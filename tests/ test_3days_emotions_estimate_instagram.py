import pandas as pd
from daily_emotions_instagram.prediction_3days import days3


def test_days3():
    emotion_dic = {
        'time': ['1400-08-05'] * 10,
        'anger': [0.028787645914396885] * 10,
        'credence': [0.05468730544747082] * 10,
        'expectation': [0.0973669747081712] * 10,
        'fear': [0.0006862354085603112] * 10,
        'happiness': [0.04710530155642023] * 10,
        'hate': [0.0025732003891050584] * 10,
        'hope': [0.037002966926070045] * 10,
        'sadness': [0.01980627431906615] * 10,
        'wonder': [0.009900437743190662] * 10,
    }

    emotion_dataframe = pd.DataFrame(emotion_dic)
    response = {'time': {0: '1400-08-06', 1: '1400-08-07', 2: '1400-08-08'},
                'anger_est': {0:  '0.035211', 1: '0.035013', 2: '0.034981'},
                'wonder_est': {0: '0.011915', 1: '0.011663', 2:  '0.011546'},
                'fear_est': {0: '0.000382', 1: '0.000386', 2: '0.000391'},
                'hate_est': {0: '0.002548', 1: '0.002535', 2: '0.002530'},
                'expectation_est': {0: '0.20050', 1:  '0.19351', 2: '0.19306'},
                'sadness_est': {0: '0.020874', 1: '0.021070', 2: '0.021187'},
                'happiness_est': {0: '0.041495', 1: '0.043508', 2: '0.045647'},
                'credence_est': {0: '0.090073', 1: '0.088502', 2: '0.088282'},
                'hope_est': {0: '0.050765', 1: '0.050451', 2: '0.050508'}}

    assert days3(emotion_dataframe).to_dict() == response
