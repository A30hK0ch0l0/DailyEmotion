import pandas as pd
from daily_emotions.days3_prediction import days3


def test_days3():
    emotion_dic = {
        'time': ['2021-11-07'] * 10,
        'anger': [0.04178459062176727] * 10,
        'credence': [0.04178459062176727] * 10,
        'expectation': [0.04178459062176727] * 10,
        'fear': [0.04178459062176727] * 10,
        'happiness': [0.04178459062176727] * 10,
        'hate': [0.04178459062176727] * 10,
        'hope': [0.04178459062176727] * 10,
        'sadness': [0.04178459062176727] * 10,
        'wonder': [0.04178459062176727] * 10,
    }

    emotion_dataframe = pd.DataFrame(emotion_dic)
    response = {'time': {0: '2021-11-8', 1: '2021-11-9', 2: '2021-11-10'},
                'anger_est': {0: 0.040899306535720825, 1: 0.04026096686720848, 2: 0.03985661268234253},
                'wonder_est': {0: 0.04164887219667435, 1: 0.041595324873924255, 2: 0.04156054928898811},
                'fear_est': {0: 0.03379334136843681, 1: 0.02858024835586548, 2: 0.02729436382651329},
                'hate_est': {0: 0.03772462531924248, 1: 0.03565379977226257, 2: 0.034671589732170105},
                'expectation_est': {0: 0.04213991388678551, 1: 0.04227934405207634, 2: 0.04240066558122635},
                'sadness_est': {0: 0.03389179706573486, 1: 0.03032703325152397, 2: 0.028665155172348022},
                'happiness_est': {0: 0.042318008840084076, 1: 0.042597465217113495, 2: 0.04274437576532364},
                'credence_est': {0: 0.04055621102452278, 1: 0.039962928742170334, 2: 0.03945670649409294},
                'hope_est': {0: 0.0413825623691082, 1: 0.04112279415130615, 2: 0.04092567786574364}}

    assert days3(emotion_dataframe).to_dict() == response
